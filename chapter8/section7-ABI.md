# ABI

ABI 是一个在使用系统编程时会听到很多的术语。 我们已经广泛讨论了 API，它们是程序员看到的代码接口。

ABI 指的是较低级别的接口，编译器，操作系统以及在某种程度上处理器必须同意一起进行通信。 下面我们介绍一些对理解 ABI 注意事项很重要的概念。

## Byte Order

Endianess

## Calling Conventions

### Passing parameters

registers or stack?

### Function Descriptors

在许多体系结构中，您必须通过函数描述符而不是直接调用函数。

例如，在 IA64 上，函数描述符由两个组件组成;函数的地址（即 64 位或 8 字节值）和全局指针的地址（gp）。 ABI 指定 r1 应始终包含函数的 gp 值。这意味着当你调用一个函数时，保存它们的 gp 值是 callees 的工作，将 r1 设置为新值（来自函数描述符），然后调用该函数。

这似乎是一种奇怪的做事方式，但它具有非常有用的实际意义，您将在下一章中看到有关全局偏移表的信息。在 IA64 上，add 指令最多只能获得 22 位立即值。立即值是直接指定的值，而不是在寄存器中指定的值（例如，添加 r1 + 100 100 是立即值）。

您可能认为 22 位能够表示 4194304 字节或 4MB。因此，每个函数可以直接偏移到 4MB 大的内存区域，而不必承担将任何值加载到寄存器中的惩罚。如果编译器，链接器和加载器都同意全局指针指向的内容（如 ABI 中所指定的），则可以通过减少加载来提高性能。
